!
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300|Roboto&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.10.1/css/all.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/info-shop.css" />
    <link rel="stylesheet" href="css/fonts.css" />
    <title>Косой переулок</title>
</head>

<body id="body">
    <header>
        <div id="nav-contacts">
            <div class="container">
                <div class="nav-contacts-content">
                    <ul class="social-icons">
                        <li class="header_nav_li">
                            <a href=""><i class="fab fa-vk"></i></a>
                        </li>
                        <li class="header_nav_li">
                            <a href=""><i class="fab fa-facebook-f"></i></a>
                        </li>
                        <li class="header_nav_li">
                            <a href=""><i class="fab fa-instagram"></i></a>
                        </li>
                    </ul>
                    <ul class="shop-info">
                        <li class="header_nav_li">
                            <a href="">Информация о магазине</a>
                        </li>
                        <li class="header_nav_li"><a href="">Новости</a></li>
                        <li class="header_nav_li"><a href="">Оплата и доставка</a></li>
                        <li class="header_nav_li"><a href="">Обратная связь</a></li>
                    </ul>
                    <span class="number">+7(919)411-46-04</span>
                </div>
            </div>
        </div>

        <div id="navbar">
            <div class="container">
                <div class="nav-items">
                    <div class="navbar-toggler">
                        <div class="nav-toggle-item"></div>
                        <div class="nav-toggle-item"></div>
                        <div class="nav-toggle-item"></div>
                    </div>
                    <div class="logo">
                        <img src="/img/косой шрифт.png" alt="" srcset="" />
                    </div>
                    <ul class="items">
                        <li>
                            <a class="hov" href="phones.html">СМАРТФОНЫ</a>
                            <ul class="titles">
                                <li class="brand">
                                    <a href="iphones.html">Iphone</a>
                                    <i class="fas fa-caret-right"></i>
                                    <ul class="models">
                                        <li><a href="iphone7.html">Iphone 7</a></li>
                                        <li><a href="iphone7+.html">Iphone 7+</a></li>
                                        <li><a href="iphone8.html">Iphone 8</a></li>
                                        <li><a href="iphoneX.html">Iphone 8+</a></li>
                                        <li><a href="iphoneXS.html">Iphone X</a></li>
                                        <li><a href="iphoneXR.html">Iphone XR</a></li>
                                        <li><a href="iphoneXS.html">Iphone XS</a></li>
                                        <li><a href="iphoneXSmax.html">Iphone XS MAX</a></li>
                                    </ul>
                                </li>
                                <li class="brand">
                                    <a href="samsung.html">Samsung</a><i class="fas fa-caret-right"></i>
                                    <ul class="models">
                                        <li><a href="sgalaxyS8.html"> Samsung Galaxy S8</a></li>
                                        <li><a href="sgalaxyS8+.html">Samsung Galaxy S8+</a></li>
                                        <li><a href="sgalaxyS9.html">Samsung Galaxy S9</a></li>
                                        <li><a href="sgalaxyS9+.html">Samsung Galaxy S9+</a></li>
                                        <li><a href="sgalaxyS10.html">Samsung Galaxy S10</a></li>
                                        <li>
                                            <a href="sgalaxyS10+.html">Samsung Galaxy S10+</a>
                                        </li>
                                        <li>
                                            <a href="sgalaxyS10e.html">Samsung Galaxy S10e</a>
                                        </li>
                                        <li>
                                            <a href="sgalaxynote8.html">Samsung Galaxy note 8</a>
                                        </li>
                                        <li>
                                            <a href="sgalaxynote9.html">Samsung Galaxy note 9</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="brand">
                                    <a href="Xiaomi.html">Xiaomi</a><i class="fas fa-caret-right"></i>
                                    <ul class="models">
                                        <li><a href="XiaomiMiA2.html">Xiaomi mi a2</a></li>
                                        <li>
                                            <a href="XiaomiMiA2Lite.html">Xiaomi mi a2 lite</a>
                                        </li>
                                        <li><a href="XiaomiRedmi6a.html">Xiaomi redmi 6a</a></li>
                                        <li><a href="XiaomiRedmi7.html">Xiaomi redmi 7</a></li>
                                        <li>
                                            <a href="XiaomiRedmiNote6Pro.html">Xiaomi redmi note 6 pro</a>
                                        </li>
                                        <li>
                                            <a href="XiaomiRedmiNote7.html">Xiaomi redmi note 7</a>
                                        </li>
                                        <li><a href="XiaomiMi8.html">Xiaomi mi 8</a></li>
                                        <li><a href="XiaomiMi8Lite.html">Xiaomi mi 8 lite</a></li>
                                        <li><a href="XiaomiMi8Se.html">Хiаоми Mi 8 se</a></li>
                                        <li><a href="XiaomiRedmiGo.html">Xiaomi Redmi Go</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a class="hov" href="headPhones.html">НАУШНИКИ</a>
                            <ul class="titles">
                                <li class="brand">
                                    <a href="headPhonesWire.html">Проводные</a>
                                    <i class="fas fa-caret-right"></i>
                                    <ul class="models">
                                        <li><a href="iphone7.html">earpods</a></li>
                                        <li><a href="iphone7+.html">Sennheiser CX 3.00 Black
                                            </a></li>
                                        <li><a href="iphone8.html">JBL T110 Black</a></li>
                                        <li><a href="iphoneX.html">Samsung galaxy buds</a></li>
                                    </ul>
                                </li>
                                <li class="brand">
                                    <a href="headPhonesWireLess.html">Безпроводные</a><i class="fas fa-caret-right"></i>
                                    <ul class="models">
                                        <li><a href="iphone7.html">airpods</a></li>
                                        <li><a href="iphone7+.html">Honor am61</a></li>
                                        <li><a href="iphone8.html">Xiaomi airdrops</a></li>
                                        <li><a href="iphoneX.html">Samsung galaxy buds</a></li>

                                    </ul>
                                </li>
                            </ul>
                        </li>

                        <li>
                            <a class="hov" href="phones.html">АКСЕСУАРЫ</a>
                            <ul class="titles">
                                <li class="brand">
                                    <a href="iphones.html">Зарядные утройства</a>
                                    <i class="fas fa-caret-right"></i>
                                    <ul class="models">
                                        <li><a href="iphone7.html">Проводные</a></li>
                                        <li><a href="iphone7+.html">Безпроводные</a></li>
                                        <li><a href="iphone8.html">Powerbank</a></li>
                                    </ul>
                                </li>
                                <li class="brand">
                                    <a href="samsung.html">Стекла</a><i class="fas fa-caret-right"></i>
                                    <ul class="models">
                                        <li><a href="sgalaxyS8.html"> Samsung Galaxy S8</a></li>
                                        <li><a href="sgalaxyS8+.html">Samsung Galaxy S8+</a></li>
                                        <li><a href="sgalaxyS9.html">Samsung Galaxy S9</a></li>
                                        <li><a href="sgalaxyS9+.html">Samsung Galaxy S9+</a></li>
                                        <li><a href="sgalaxyS10.html">Samsung Galaxy S10</a></li>
                                        <li>
                                            <a href="sgalaxyS10+.html">Samsung Galaxy S10+</a>
                                        </li>
                                        <li>
                                            <a href="sgalaxyS10e.html">Samsung Galaxy S10e</a>
                                        </li>
                                        <li>
                                            <a href="sgalaxynote8.html">Samsung Galaxy note 8</a>
                                        </li>
                                        <li>
                                            <a href="sgalaxynote9.html">Samsung Galaxy note 9</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="brand">
                                    <a href="Xiaomi.html">Чехлы</a><i class="fas fa-caret-right"></i>
                                    <ul class="models">
                                        <li><a href="XiaomiMiA2.html">Xiaomi mi a2</a></li>
                                        <li>
                                            <a href="XiaomiMiA2Lite.html">Xiaomi mi a2 lite</a>
                                        </li>
                                        <li><a href="XiaomiRedmi6a.html">Xiaomi redmi 6a</a></li>
                                        <li><a href="XiaomiRedmi7.html">Xiaomi redmi 7</a></li>
                                        <li>
                                            <a href="XiaomiRedmiNote6Pro.html">Xiaomi redmi note 6 pro</a>
                                        </li>
                                        <li>
                                            <a href="XiaomiRedmiNote7.html">Xiaomi redmi note 7</a>
                                        </li>
                                        <li><a href="XiaomiMi8.html">Xiaomi mi 8</a></li>
                                        <li><a href="XiaomiMi8Lite.html">Xiaomi mi 8 lite</a></li>
                                        <li><a href="XiaomiMi8Se.html">Хiаоми Mi 8 se</a></li>
                                        <li><a href="XiaomiRedmiGo.html">Xiaomi Redmi Go</a></li>
                                    </ul>
                                </li>

                            </ul>
                        </li>
                    </ul>
                    <div class="search-btn __nav-item">
                        <img class="search-icon" src="/img/search-icon.png" alt="" />
                    </div>

                    <!-- <div class="search-engine">
    
                            <input class="input-search" placeholder="поиск" type="text">
                            <button class="search-products">Найти</button>
                            <img class="close-engine" src="/img/fa-times-white.png" alt="">
                        </div> -->

                    <div class="cart">
                        <a class="shopping-cart" href="#">
                            <img class="fa-shopping-cart" src="/img/cart-icon.png" alt="" /></a>

                        <div class="total-sum-container"></div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <div class="sidebar-navbar">
        <div class="sidebar-layout">
            <img src="/img/fa-times.png" alt="" class="fa-times-sidebar" />
            <img class="back" src="/img/left-black.png" alt="">
            <div class="sidebar_content_container">
                <div class="sidebar_content">
                    <ul class="main_sidebar_items">
                        <li class="sidebar_main_li" data-target="catalog">Каталог</li>
                        <li class="sidebar_main_li">Информация о магазине</li>
                        <li class="sidebar_main_li">Новости</li>
                        <li class="sidebar_main_li">Оплата и Доставка</li>
                        <li class="sidebar_main_li">Обратная связь</li>
                        <li class="sidebar_main_li">+7(919)411-46-04</li>
                        <li class="sidebar_main_li" data-target="searcher"><img class="search-icon"
                                src="/img/search-icon-black.png" alt="" /><span>Поиск</span> </li>
                    </ul>
                    <ul class="secondary_sidebar_items" data-target="catalog">
                        <li class="sidebar_main_li"><a href="phones.html">Смартфоны</a></li>
                        <li class="sidebar_main_li"><a href="headPhones.html">Наушники</a></li>
                        <li class="sidebar_main_li"><a href="">Аксесуары</a></li>
                    </ul>
                    <div class="secondary_sidebar_items search-engine" data-target="searcher">
                        <input class="input-search" placeholder="поиск" type="text">
                        <a href="searching-page.html" class="search-products">Найти</a>
                        <img class="close-engine" src="/img/fa-times-white.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="cart-popup">
        <div class="cart-popup-content">
            <img src="/img/fa-times.png" alt="" class="fa-times" />
            <h1 class="cart-popup-header">Корзина</h1>
            <div class="cart-popup-content-items"></div>
            <div class="cart-popup-content-footer">
                <!--  <h3>Итоговая сумма : $ <span class="cart-total">0</span> </h3>
                <button class="clear-cart">Очистить корзину</button> -->
                <!-- <button class="confirm-order">Оформить заказ</button> -->
            </div>
        </div>
    </div>
    <div id="OurWork">
        <div class="container">
            <div class="progress-bar">
                <btn class="progress-item-check check-active">1</btn>
                <div class="progress-item-line">
                    <div class="progress-item-line-color"></div>
                    <!--   <div class="progress-item-line-"></div> -->
                </div>
                <btn class="progress-item-check">2</btn>
                <div class="progress-item-line">
                    <div class="progress-item-line-color"></div>
                </div>
                <btn class="progress-item-check">3</btn>
                <div class="progress-item-line">
                    <div class="progress-item-line-color"></div>
                </div>
                <btn class="progress-item-check">4</btn>
                <div class="progress-item-line">
                    <div class="progress-item-line-color"></div>
                </div>
                <btn class="progress-item-check">5</btn>
                <div class="progress-item-line">
                    <div class="progress-item-line-color"></div>
                </div>
                <btn class="progress-item-check">6</btn>
            </div>
        </div>
    </div>



    <footer>
        <div class="container medi
        um">
            <div class="__main-footer-items">
                <div class="footer-item company-info">
                    <div>Косой Переулок</div>
                    <div>
                        <ul>
                            <li class="__footer-li">
                                <a href="">Информация о магазине</a>
                            </li>
                            <li class="__footer-li"><a href="">Новости</a></li>
                            <li class="__footer-li"><a href="">Оферта</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-item">
                    <div>Каталог</div>
                    <div>
                        <ul>
                            <li class="__footer-li"><a href="">Смартфоны</a></li>
                            <li class="__footer-li"><a href="">Наушники</a></li>
                            <li class="__footer-li"><a href="">Чехлы</a></li>
                            <li class="__footer-li"><a href="">Зарядные Устройства</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-item">
                    <div>Помощь</div>
                    <div>
                        <ul>
                            <li class="__footer-li"><a href="">Доставка и оплата</a></li>
                            <li class="__footer-li"><a href="">Гарантия и сервис</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-item">
                    <a href=""><i class="fab fa-vk"></i></a>
                    <a href=""><i class="fab fa-facebook-f"></i></a>
                    <a href=""><i class="fab fa-instagram"></i></a>
                </div>
                <div class="footer-item feedback">
                    © «Косой переулок», <span class="date"></span>
                </div>
            </div>
        </div>
    </footer>
    <script src="js/script.js"></script>
    <script>
        const checkItem = [...document.querySelectorAll(".progress-item-check")];
        const progressLineParent = [...document.querySelectorAll(".progress-item-line")];
        const progressLine = [...document.querySelectorAll(".progress-item-line-color")];
        const main = document.querySelector(".slider-main");

        let i = 0;
        let m = 0;
        let w = 0;
        let z = 0;
        let timeiout = 0;
        let finalSwitcher = 0;
        let n = 1500;
        let inter;
        let inter2;
        /*  let delay = 0; */
        class Progress {

            startMotion() {
                z = m*70;
   /*              console.log(z/70===m)
                console.log(i) */
                console.log(i) 
                if (timeiout >= 0 && timeiout < 2 && i != checkItem.length-1 || 
                (timeiout >= 0 && timeiout < 2 && z/70===m && i != checkItem.length-1) ) {
                   /*  console.log('ok') */
                    inter = setInterval(() => {
                        this.start();
                    }, 50)
                }
                if (timeiout < 0) {
                    clearInterval(inter);
                }
            }

            start() {
                console.log(i )
                if (i < progressLine.length) {
                    
                    if (progressLine[i].clientWidth < progressLineParent[0].clientWidth) {
                        w++;
                        z++;
                       /*  console.log('ok') */
                        progressLine[i].style.width = w;
                    }
                    if (w === progressLineParent[0].clientWidth) {
                        progressLine[i].classList.add('full')
                        i++;
                        m = i;
                        console.log(m)
                        z=70*m;
                        
                        if(i === progressLine.length) {
                            n = 2500;
                        }
                        console.log(i)
                        /* console.log(m,z) */
                        clearInterval(inter);
                        w = 0;
                        checkItem[i].classList.add('check-active')
                        console.log(w)
                    setTimeout(() => {
                        this.startMotion()
                    }, n)
                    }
                    if(i === progressLine.length) {
                        i = 0;
                        console.log(i)
                        inter2 = setTimeout(() => {
                        m = i;
                        
                        checkItem.forEach(e => {                        
                               if(checkItem.indexOf(e) > 0){
                                    e.classList.remove('check-active')
                                }        
                        })
                        progressLine.forEach(e => {                        
                                    e.classList.remove('full')
                        })


                        progressLine.forEach(e => {
                   e.style.width = 0;
                })
                    }, n)
                    }
                }
            }
            manipulateProgress() {
                checkItem.forEach(item => {
                    item.addEventListener('click', () => {
                        i = checkItem.indexOf(item);
                        w = 0;

                        checkItem.forEach(e => {
                            if(m === checkItem.length-1){
                                console.log(true) 
                                if(checkItem.indexOf(e) === m){
                                    console.log(m)
                                    console.log(checkItem.length-1)

                                    m = checkItem.indexOf(item);
                                    z = m*70;
                                    console.log(m)
                                    clearInterval(inter2)
                                 /*    setTimeout(() => {
                                this.startMotion();
                            }, 1500) */
                                }        
                            }
                        })
                        console.log(m)
                        if(i === checkItem.length-1) {
                            finalSwitcher = 1;
                            z = 0;
                            m = 0; 
                        } 
                           if(z/70!=i+1 || i === checkItem.length-1){
                               clearInterval(inter)
                        console.log('cleared')
                    } 
                  /*   console.log(i) */
                  /*   if(i === checkItem.length-1) */

                 /*    console.log(z/70 === m)
                    console.log(z, m) */
                        if(z/70!=m || z === 0 && m === 0 || finalSwitcher === 1){
                            finalSwitcher = 0;
                            timeiout++; // 1*
                            console.log(timeiout)                                
                            setTimeout(() => {
                                this.startMotion();
                                timeiout--; 
                                                          
                        }, 1500)
                            }
    
                        this.makeConditione(item);
                    })
                })
            }

            makeConditione(item) {
                progressLine.forEach(e => {
                    if (i > progressLine.indexOf(e)) {
                        e.style.width = progressLineParent[0].clientWidth;
                        e.classList.add('full')
                    } else  {
                        e.style.width = 0;
                        if(e.classList.contains('full')){
                        e.classList.remove('full')
                        }
                    } 
                })
                checkItem.forEach(it => {
                    if (checkItem.indexOf(it) > i) {
                        it.classList.remove('check-active')
                    } else {
                        it.classList.add('check-active')
                    }
                })
            }

            resizeLogic(){
                window.addEventListener('resize', () => {
                    progressLineParent.forEach(itemP => {
                   this.changeWidth(itemP)
                })
                })
            }

            changeWidth(itemP) {
                progressLine.forEach(itemCh => {
                        console.log(itemCh.clientWidth)
                        console.log(itemP.clientWidth)
                    if(itemCh.classList.contains('full') || itemCh.clientWidth > itemP.clientWidth) {
                        console.log('ok')
                        itemCh.style.width = itemP.clientWidth;
                    }

                })
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const progress = new Progress;
            if (w === 0 && i === 0) {
                progress.startMotion()
            }
            progress.manipulateProgress()
            progress.resizeLogic()
        })

        // *1 так как мы приравнвниваем z и m к нулю, 
        // выполняется условие равенства m и z нулю, в следствии чего timeout = 2, 
        // что автоматически блокирует запуск интервала

    </script>
    <script src="js/searcher.js"></script>
    <script src="js/products.js"></script>
    
</body>

</html>

