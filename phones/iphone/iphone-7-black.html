<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300|Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.1/css/all.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/products/main-products-category/main-products-items/main-products-items.css" />
    <link rel="stylesheet" href="css/fonts.css">
    <title>Document</title>
</head>

<body id="body">
    <nav id="navbar">
        <div class="container">
            <div class="nav-items">
                <div class="logo">
                    <img src="/img/косой шрифт.png" alt="" srcset="">
                </div>
                <div class="items">
                    <div class="menu-phone-items">
                        <h4><a class="hov" href="phones.html">СМАРТФОНЫ</a> </h4>
                        <div class="menu-phones">
                            <div class="titles">
                                <div class="brand">
                                    <h4>Iphone</h4><i class="fas fa-caret-right"></i>
                                </div>
                                <div class="brand">
                                    <h4>Samsung</h4><i class="fas fa-caret-right"></i>
                                </div>
                                <div class="brand">
                                    <h4>Xiaomi</h4><i class="fas fa-caret-right"></i>
                                </div>
                            </div>
                            <div class="iphone">
                                <div class="models">
                                    <ul class="models-items">
                                        <li>Iphone 7</li>
                                        <li>Iphone 7+</li>
                                        <li>Iphone 8</li>
                                        <li>Iphone 8+</li>
                                        <li>Iphone X</li>
                                        <li>Iphone XR</li>
                                        <li>Iphone XS</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="samsung">
                                <div class="models">
                                    <ul class="models-items">
                                        <li>Samsung Galaxy S9</li>
                                        <li>Samsung Galaxy S9+</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="xiaomi">
                                <div class="models">
                                    <ul class="models-items">
                                        <li></li>
                                        <li></li>
                                        <li></li>
                                        <li></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="headphone-items">

                        <h4><a class="hov" href="#">НАУШНИКИ</a></h4>

                        <div class="headsphones">
                            <div class="titles">
                                <div class="brand">
                                    <h4>apple</h4><i class="fas fa-caret-right"></i>
                                </div>
                            </div>

                            <div class="airpods">
                                <div class="models">
                                    <li>airpods</li>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="cases-items">

                        <h4><a class="hov" href="#">ЧЕХЛЫ</a></h4>

                        <!-- <div class="cases">
                            <div class="titles">
                                <h4 class="case">marvel</h4>
                            </div>
                            <div class="iphone">

                            </div>
                            <div class="samsung">

                            </div>
                            <div class="xiaomi">

                            </div>
                        </div> -->
                    </div>
                    <div class="chargers-items">
                        <h4><a class="hov" href="#">ЗАРЯДНЫЕ УСТРОЙСТВА</a></h4>
                        <!-- <div class="chargers">
                            <div class="titles">
                                <h4 class="charger">type-c</h4>
                                <h4 class="charger">ligthning</h4>
                            </div>
                            <div class="iphone">

                            </div>
                            <div class="samsung">

                            </div>
                            <div class="xiaomi">

                            </div>
                        </div> -->
                    </div>
                    <div class="cart">
                        <a class="shopping-cart" href="#"><img class="fa-shopping-cart" src="/img/cart-icon.png"
                                alt=""></a>
                        <div class="total-sum-container">
                        </div>
                    </div>
                </div>

                <div class="nav-contacts">
                    <h4 class="call-back">ОБРАТНАЯ СВЯЗЬ</h4>
                    <h2 class="number">+7(919)411-46-04</h2>
                </div>
            </div>
        </div>
    </nav>

    <div class="cart-popup">
        <div class="cart-popup-content">
            <img src="/img/fa-times.png" alt="" class="fa-times" />
            <h1>Корзина</h1>
            <div class="cart-popup-content-items">

            </div>
            <div class="cart-popup-content-footer">
                <h3>Итоговая сумма : $ <span class="cart-total">0</span> </h3>
                <button class="clear-cart">Очистить корзину</button>
            </div>

        </div>
    </div>


    <div id="__Products">
        <div class="container">
            <div class="path-items ">
                <a href="index.html"><i class="fas fa-home fa-2x"></i></a>
                <h2 class="__pathProductsItems"><a href="phones.html">СМАРТФОНЫ</a> </h2>
                <h2 class="__pathProductsItems"><a href=${productLink}></a> </h2>
                <h2><a href=''></a> </h2>
            </div>
            <div class="__main-products-items __secondary-Product">
                <div class="__Products-gallery">
                    <!-- <img class="angle-up" src="/img/angle-up.png" alt="">
                    <img class="angle-down" src="/img/angle-down.png" alt=""> -->
                    <div class="__toggler-products-photos">
                        <div class="__toggler-products-photos-container">
                            <div class="__toggle-product-img active"> <img src="/img/iphone-7/iphone-7-black.png"
                                    alt="">
                            </div>
                            <div class="__toggle-product-img"> <img src="/img/iphone-7/iphone-7-black2.png" alt="">
                            </div>
                            <div class="__toggle-product-img  translater"><img src="/img/iphone-7/iphone-7-black3.png"
                                    alt="">
                            </div>
                            <div class="__toggle-product-img"><img src="/img/iphone-7/iphone-7-black3.png" alt="">
                            </div>
                        </div>
                    </div>
                    <div class="__main-photos-container">
                        <div class="__main-product-img active2"> <img src="/img/iphone-7/iphone-7-black.png" alt="">
                        </div>
                        <div class="__main-product-img "> <img src="/img/iphone-7/iphone-7-black2.png" alt="">
                        </div>
                        <div class="__main-product-img"> <img src="/img/iphone-7/iphone-7-black3.png" alt=""></div>
                        <div class="__main-product-img"> <img src="/img/iphone-7/iphone-7-black3.png" alt=""></div>
                    </div>
                </div>
                <div class="__Products-order-info">
                </div>
            </div>
        </div>
    </div>




    <footer>
        <div class="container medium">
            <div class="__main-footer-items">
                <div class="footer-item company-info">
                    <div>Косой Переулок</div>
                    <div>
                        <ul>
                            <li class="__footer-li"> <a href="">О компании</a></li>
                            <li class="__footer-li"> <a href="">Новости</a></li>
                            <li class="__footer-li"> <a href="">Оферта</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-item">
                    <div>Каталог</div>
                    <div>
                        <ul>
                            <li class="__footer-li"><a href="">Смартфоны</a></li>
                            <li class="__footer-li"><a href="">Наушники</a></li>
                            <li class="__footer-li"><a href="">Чехлы</a></li>
                            <li class="__footer-li"><a href="">Зарядные Устройства</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-item">
                    <div>Помощь</div>
                    <div>
                        <ul>
                            <li class="__footer-li"><a href="">Доставка и оплата</a></li>
                            <li class="__footer-li"><a href="">Гарантия и сервис</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-item">


                    <a href=""><i class="fab fa-vk"></i></a>
                    <a href=""><i class="fab fa-facebook-f"></i></a>
                    <a href=""><i class="fab fa-instagram"></i></a>
                </div>
                <div class="footer-item feedback">

                    © «Косой переулок», <span class="date"></span>

                </div>
            </div>
        </div>
    </footer>

    <script src="js/script.js"></script>

    <script>
        const toggleImg = [...document.querySelectorAll('.__toggle-product-img')]
        const mainImg = [...document.querySelectorAll('.__main-product-img')]
        const toggleContainer = document.querySelector('.__toggler-products-photos-container')
        const galler = document.querySelector('.__Products-gallery')
        /* const toggleBtnUp = document.querySelector('.angle-up') */
        /* const toggleBtnDown = document.querySelector('.angle-down') */


        /* let toggleContainerArr = []
        
        toggleContainerArr = [...toggleContainerArr, toggleImg] */

        class Gallery {
            createToggleBtns() {
                if (toggleImg.length > 3) {
                    const toggleBtnUp = document.createElement('img');
                    const toggleBtnDown = document.createElement('img');
                    toggleBtnUp.classList.add('angle-up');
                    toggleBtnDown.classList.add('angle-down');
                    toggleBtnUp.src = '/img/angle-up.png';
                    toggleBtnDown.src = '/img/angle-down.png'
                    galler.appendChild(toggleBtnUp)
                    galler.appendChild(toggleBtnDown)
                    console.log(toggleBtnUp)
                    this.swithToggles(toggleBtnUp, toggleBtnDown)
                }
            }

            swithToggles(toggleBtnUp, toggleBtnDown) {
                toggleBtnDown.addEventListener('click', () => {
                    const translater = document.querySelector('.translater')
                    console.log(translater)
                    if (translater.nextElementSibling) {
                        translater.classList.remove('translater');
                        translater.nextElementSibling.classList.add('translater')
                        toggleContainer.style.transform += 'translateY(-90.5px)'
                    } else {
                        toggleContainer.lastElementChild.classList.remove('translater')
                        toggleImg[2].classList.add('translater')
                        toggleContainer.style.transform = 'translateY(0)'
                    }
                })

                toggleBtnUp.addEventListener('click', () => {
                    const translater = document.querySelector('.translater')
                    if (toggleImg.indexOf(translater) > 1) {
                        translater.classList.remove('translater')
                        if (toggleImg.indexOf(translater) > 2) {
                            console.log(item)
                            translater.previousElementSibling.classList.add('translater')
                            toggleContainer.style.transform += 'translateY(90.5px)'
                            /*  item.previousElementSibling.classList.remove('translater') */

                        }
                        if (toggleImg.indexOf(translater) === 2) {
                            toggleContainer.lastElementChild.classList.add('translater')
                            toggleContainer.style.transform = 'translateY(' + this.calculateTranlslation() +
                                'px)'
                        }
                    }

                })
            }

            calculateTranlslation() {
                let result = 0
                toggleImg.forEach(item => {
                    console.log(item)
                    if (toggleImg.indexOf(item) > 2) {

                        result += 90 * -1
                        console.log(result)
                    }
                })
                return result
            }

            getToggleImgs() {
                toggleImg.forEach(item => item.addEventListener('click', this.toggleGalleryImgs))
                toggleImg.forEach(item => item.addEventListener('mouseover', this.toggleGalleryImgs2))
                toggleImg.forEach(item => item.addEventListener('mouseout', this.toggleGalleryImgs3))
            }

            toggleGalleryImgs() {
                mainImg.forEach(item => {
                    if (mainImg.indexOf(item) === toggleImg.indexOf(this)) {
                        item.style.opacity = 1;
                        this.classList.add('active')
                    } else {
                        if (toggleImg[mainImg.indexOf(item)].classList.contains('active')) {
                            item.style.opacity = 0;
                            toggleImg[mainImg.indexOf(item)].classList.remove('active')
                            console.log(toggleImg[mainImg.indexOf(item)])
                        }
                        /* console.log(item) */
                    }

                })
            }
            toggleGalleryImgs2() {
                mainImg.forEach(item => {
                    if (mainImg.indexOf(item) === toggleImg.indexOf(this)) {
                        item.style.opacity = 1;
                        this.style.opacity = 1;
                    } else {
                        item.style.opacity = 0;
                        toggleImg[mainImg.indexOf(item)].style.opacity = 0.6;
                    }

                })
            }
            toggleGalleryImgs3() {
                mainImg.forEach(item => {
                    if (toggleImg[mainImg.indexOf(item)].classList.contains('active')) {
                        item.style.opacity = 1;
                        toggleImg[mainImg.indexOf(item)].style.opacity = 1;
                    } else {
                        item.style.opacity = 0;
                        toggleImg[mainImg.indexOf(item)].style.opacity = 0.6;
                    }

                })
            }
        }


        document.addEventListener('DOMContentLoaded', () => {
            const gallery = new Gallery;
            gallery.createToggleBtns();
            gallery.getToggleImgs()
        })
    </script>

</body>

</html>
</body>

</html>